<!doctype html>
<html>
<head>
<title>Ajax Client</title>
    <link rel="stylesheet" href="stylesheet.css">
</head>
<body>
  <h1>Biblioteket</h1>
  <h4>Baklien, Knudsen, Lundberg og Steinsto AS</h4>
<form method=POST>
  <div class="container">
    <input type="text" placeholder="Username" name="uname">
    <input type="password" placeholder="Password" name="psw">
    <button type="submit" name="request" value="LOGIN">Login</button>
    <button type="submit" name="request" value="LOGOUT">Logout</button>
  </div>
</form>

  <div id="form">
    <form method=POST>
      <h4>Add / Edit / Delete / Search</h4>
        <select name=table>
          <option value="authors">Authors</option>
          <option value="books">Books</option>
        </select><br><br>
      <input type="text" placeholder="Author ID / Book ID" name="id"><br>
      <input type="text" placeholder="Firstname / Booktitle" name="param1"><br>
      <input type="text" placeholder="Lastname / Author ID" name="param2"><br>
      <input type="text" placeholder="Nationality" name="param3"><br><br>
      <input type="radio" name="request" value="GET"> Search<br>
      <input type="radio" name="request" value="POST"> Add<br>
      <input type="radio" name="request" value="PUT"> Edit<br>
      <input type="radio" name="request" value="DELETE"> Delete<br><br>
      <button type="submit" onsubmit="get(table, id)">Submit</button>
    </form>
  </div>
</div>

<!-- GET author -->
<script>
  function get(table, id) {
    var xhttp = new XMLHttpRequest(),
      method = "GET",
      url = "http://172.17.0.2:3000/" + table + "/" + id;
    console.log("OFSAIUN");
    xhttp.onreadystatechange=function () {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById().innerHTML = this.responseText;
      }
    }
  }
  xhttp.open(method, url, true);
  xhttp.send();
</script>

<!-- Add author -->
<script>
function postAuthor(id, param1, param2, param3) {
  var xhttp = new XMLHttpRequest(),
    method = "POST",
    url = "http://172.17.0.2:3000/authors";

  xhttp.open(method, url, true);
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState === 4 && xhttp.status === 200) {
      console.log(xhttp.responseText);
    }
  }
  xhttp.send();
</script>

<script>
  function postBook(id, param1, param2) {
    var xhttp = new XMLHttpRequest(),
      method = "POST",
      url = "http://172.17.0.2:3000/books";

    xhttp.open(method, url, true);
    xhttp.onreadystatechange = function () {
      if (xhttp.readyState === 4 && xhttp.status === 200) {
        console.log(xhttp.responseText)
      }
  }
  xhttp.send();
</script>

</body>
</html>