<!DOCTYPE html>
<html>
<body>

<h1>Login</h1>
<form>
    <input type="text" placeholder="Username" name="uname"><br>
    <input type="password" placeholder="Password" name="psw"><br>
    <button type="button" onclick="login(uname.value, psw.value)">Login</button>
    <button type="button" onclick="logout()">Logout</button>
    <p id="login"></p>
</form>

<h1>Search Authors (Get)</h1>
<form>
    <input type="text" placeholder="Author ID" name="authorID"><br>
    <button type="button" onclick="getAuthor(authorID.value)">Search authors</button>
    <p id="getAuthor"></p>
</form>

<h1>Search Books (Get)</h1>
<form>
    <input type="text" placeholder="Book ID" name="bookID"><br>
    <button type="button" onclick="getBook(bookID.value)">Search books</button>
    <p id="getBooks"></p>
</form>

<h1>AUTHOR - Add, Delete, Put (Post)</h1>
<form>
    <input type="text" placeholder="Author ID" name="authorID"><br>
    <input type="text" placeholder="First Name" name="param1"><br>
    <input type="text" placeholder="Last Name" name="param2"><br>
    <input type="text" placeholder="Nationality" name="param3"><br>
    <button type="button" onclick="postAuthor(authorID.value, param1.value, param2.value, param3.value)">Add author</button><br>
    <button type="button" onclick="delAuthor(authorID.value)">Delete author</button><br>
    <button type="button" onclick="putAuthor(authorID.value, param1.value, param2.value, param3.value)">Edit author</button><br>
    <p id="postAuthor"></p>
    <p id="delAuthor"></p>
    <p id="putAuthor"></p>
</form>

<h1>Books - Add, Delete, Put (Post)</h1>
<form>
    <input type="text" placeholder="Book ID" name="bookID"><br>
    <input type="text" placeholder="Book Title" name="param1"><br>
    <input type="text" placeholder="Author ID" name="param2"><br>
    <button type="button" onclick="postBook(bookID.value, param1.value, param2.value)">Add book</button><br>
    <button type="button" onclick="delBook(bookID.value)">Delete book</button><br>
    <button type="button" onclick="putBook(bookID.value, param1.value, param2.value)">Edit book</button><br>
    <p id="postBook"></p>
    <p id="delBook"></p>
    <p id="putBook"></p>
</form>

<!-- LOGIN -->
<script>
    function login(uname, psw){
        var XML="<?xml version=1.0 encoding=UTF-8?>" +
                "<logininfo><userid>"+uname+
                "</userid><passwordhash>"+psw+
                "</passwordhash></logininfo>";
        var xhttp = new XMLHttpRequest(),
            method = "POST",
            url = "/login";
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("login").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.setRequestHeader('Content-type', 'text/xml');
        xhttp.send(XML);
    }
</script>

<!-- LOGOUT -->
<script>
    function logout(){
        var xhttp = new XMLHttpRequest(),
            method = "DELETE",
            url = "/logout";
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("login").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.withCredentials = true;
        xhttp.send();
    }
</script>


<!-- GET author -->
<script>
    function getAuthor(authorID) {
        var xhttp = new XMLHttpRequest(),
            method = "GET",
            url = "/authors/" + authorID;
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
            document.getElementById("getAuthor").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.send();
    }
</script>

<!-- POST author -->
<script>
    function postAuthor(authorID, param1, param2, param3) {
        var XML="<?xml version=1.0 encoding=UTF-8?>" +
                "<useri><authorid>"+authorID+
                "</authorid><firstname>"+param1+
                "</firstname><lastname>"+param2+
                "</lastname><nationality>"+param3+
                "</nationality></useri>";
        var xhttp = new XMLHttpRequest(),
            method = "POST",
            url = "/authors";
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
            document.getElementById("postAuthor").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.setRequestHeader('Content-type', 'text/xml');
        xhttp.send(XML);    
    }    
</script>

<!-- PUT Author-->
<script>
    function putAuthor(authorID, param1, param2, param3) {
        var XML="<?xml version=1.0 encoding=UTF-8?>" +
                "<useri><authorid>"+authorID+
                "</authorid><firstname>"+param1+
                "</firstname><lastname>"+param2+
                "</lastname><nationality>"+param3+
                "</nationality></useri>";
        var xhttp = new XMLHttpRequest(),
            method = "PUT",
            url = "/authors";
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("putAuthor").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.setRequestHeader('Content-type', 'text/xml');
        xhttp.withCredentials = true;
        xhttp.send(XML);
    }
</script>

<!-- DELETE Author-->
<script>
    function delAuthor(authorID) {
        var XML="<?xml version=1.0 encoding=UTF-8?>" +
                "<useri><authorid>"+authorID+
                "</authorid></useri>";
        var xhttp = new XMLHttpRequest(),
            method = "DELETE",
            url = "/authors";
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("delAuthor").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.setRequestHeader('Content-type', 'text/xml');
        xhttp.withCredentials = true;
        xhttp.send(XML);
    }    
</script>

<!-- GET book -->
<script>
    function getBook(bookID) {
        var xhttp = new XMLHttpRequest(),
            method = "GET",
            url = "/books/" + bookID;
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
            document.getElementById("getBooks").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.send();
    }
</script>
    
<!-- POST book -->
<script>
    function postBook(bookID, param1, param2) {
        var XML="<?xml version=1.0 encoding=UTF-8?>" +
                "<useri><bookid>"+bookID+
                "</bookid><booktitle>"+param1+
                "</booktitle><authorid>"+param2+
                "</authorid></useri>";
        var xhttp = new XMLHttpRequest(),
            method = "POST",
            url = "/books";
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
            document.getElementById("postBook").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.setRequestHeader('Content-type', 'text/xml');
        xhttp.withCredentials = true;
        xhttp.send(XML);    
    }    
</script>
      
<!-- PUT Book-->
<script>
    function putBook(bookID, param1, param2) {
        var XML="<?xml version=1.0 encoding=UTF-8?>" +
                "<useri><bookid>"+bookID+
                "</bookid><booktitle>"+param1+
                "</booktitle><authorid>"+param2+
                "</authorid></useri>";
        var xhttp = new XMLHttpRequest(),
            method = "PUT",
            url = "/books";
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("putBook").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.setRequestHeader('Content-type', 'text/xml');
        xhttp.withCredentials = true;
        xhttp.send(XML);   
    }
</script>
      
<!-- DELETE Book-->
<script>
    function delBook(bookID) {
        var XML="<?xml version=1.0 encoding=UTF-8?>" +
                "<useri><bookid>"+bookID+
                "</bookid></useri>";
        var xhttp = new XMLHttpRequest(),
            method = "DELETE",
            url = "/books";
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("delBook").innerHTML = this.responseText;
            }
        };
        xhttp.open(method, url, true);
        xhttp.setRequestHeader('Content-type', 'text/xml');
        xhttp.withCredentials = true;
        xhttp.send(XML);
    }    
</script>

</body>
</html>